
# Projekt Synchronisieren

Wenn das System aufgesetzt ist (siehe @sec-installation) und das QGIS Projekt vorbereitet (siehe @sec-projekt) sind die Voraussetzungen gegeben mit QField Mobile zu Synchronisieren. Um ein Lokales QGIS Projekt mit QField Mobile zu Synchronisieren braucht es zwei Zwischentschritte:

1. Das QGIS Projekt wird zuerst in ein lokales QField Projekt konvertiert (Schritt "Konvertierung" in @fig-flow )
2. Das lokale QField Projekt wird mit QField Cloud Synchronisiert (Schritt "Sync" zwischen QField Projekt und QField Cloud in @fig-flow)



```{mermaid}
%%| label: fig-flow
%%| fig-cap: "Grundsätzlicher Workflow und das Zusammenspiel von Laptop, Cloud und Mobile"
flowchart LR
 subgraph lokal["lokal (laptop)"]
        A["QGIS Projekt (.qgz)"]
        B["QField Projekt (.qgs)"]
  end
 subgraph mobile["Mobile Geräte"]
        D["QField Mobile 1"]
        E["QField Mobile 2"]
  end
 subgraph cloud["cloud"]
        C["QField Cloud"]
  end
    A -- Konvertierung --> B
    B <-- Sync --> C
    C <-- Sync --> D
    C <-- Sync --> E
    style C fill:#80cc28,stroke:#333,stroke-width:2px,color:#fff
```


:::{.callout-warning}

## Todo terz

- Was passiert eigentlich, wenn man im **QGIS Projekt** (nicht im **QField Projekt**) ein neues Feature hinzufügt und das auf Qfield Cloud bringen möchte. Geht das oder kommt es zu Konflikten?
- Wo können wir den Hinweis platzieren, dass sämtliche QField Projekte sich kaum von QGIS Projekten unterscheiden, aber Zentral gelagert (bei mir in `home/rata/QField/clooud/`, wo auf Windows?) werden. Wodurch unterscheiden sich eigentlich QField und QGIS Projekte?
- 

:::


Die Schritte "Konvertierung" und "Sync" werden im nachfolgenden Unterkapiteln beschrieben.






## Konvertierung QGIS → QField Project


:::{#konvertierung layout-nrow=1  layout-valign="bottom"}
![Schritt 1: Klick auf QField Cloud Projects Overview im QField Plugin Panel](images/create_local_qfieldcloud_project1.png)

![Schritt 2: Klick auf "Create New Project" um ein neues QField Projekt zu erstellen](images/create_local_qfieldcloud_project2.png)

![Schritt 3: "Convert currently open project..." auswählen und mit "Next" bestätigen](images/create_local_qfieldcloud_project3.png)
:::

:::{.callout-warning}

## Todo terz

- Wie integriere ich (offline) basemaps?
- Layerspezifische Einstellungen ← hier weiss ich nicht mehr, was ich gemeint habe

:::




Danach wird das Projekt automatisch in/mit der Cloud synchronisiert

## QField mobile ↔ QField Cloud



### Öffnen des Projektes


:::{.callout-warning}

## Todo terz

- Kannst du das noch mehr in Worte fassen / beschreiben?

:::


::: {layout-nrow=1}
![](images/open_project_mobile1.PNG){.smartphone}

![](images/open_project_mobile2.PNG){.smartphone}
:::

### Synchronisierung mit Cloud

:::{.callout-warning}

## Todo terz

- Kannst du das noch mehr in Worte fassen / beschreiben?

:::

::: {layout-nrow=1}
![](images/synchronize_mobile1.PNG){.smartphone}

![](images/synchronize_mobile2.PNG){.smartphone}
:::

Entweder nur die gemachten Features mit Cloud updaten (push changes) oder ganzes Projekt synchronisieren

## QField Projekt ↔ QField Cloud

:::{.callout-warning}

## Todo terz

- Kannst du das noch mehr in Worte fassen / beschreiben?

:::


::: {layout-nrow=2}
![](images/synchronize_cloud1.png)

![](images/synchronize_cloud2.png)
:::

Actions werden meist richtig erkannt
Aber hier ist vorsicht geboten, was aktualisiert werden muss