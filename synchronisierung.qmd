
# Projekt Synchronisieren

Wenn das System aufgesetzt ist (siehe @sec-installation) und das QGIS Projekt vorbereitet (siehe @sec-projekt) sind die Voraussetzungen gegeben mit QField Mobile zu Synchronisieren. Um ein Lokales QGIS Projekt mit QField Mobile zu Synchronisieren braucht es zwei Zwischentstationen:

1. Das QGIS Projekt wird zuerst in ein lokales QField Projekt konvertiert
2. Das lokale QField Projekt wird mit QField Cloud Synchronisiert

Siehe @fig-flow für eine Visualisierung dieses Workflows.


```{mermaid}
%%| label: fig-flow
%%| fig-cap: "Grundsätzlicher Workflow und das Zusammenspiel von Laptop, Cloud und Mobile"
flowchart LR
 subgraph lokal["lokal (laptop)"]
        B["QField Projekt"]
        A["QGIS Projekt"]
  end
 subgraph mobile["Mobile Geräte"]
        D["QField Mobile 1"]
        E["QField Mobile 2"]
  end
 subgraph cloud["cloud"]
        C["QField Cloud"]
  end
    A -- Konvertierung --> B
    B <-- Sync --> C
    C <-- Sync --> D
    C <-- Sync --> E
    style C fill:#80cc28,stroke:#333,stroke-width:2px,color:#fff
```

Diese Schritte werden im nachfolgenden Unterkapiteln beschrieben.

## Konvertierung QGIS → QField Project


:::{#konvertierung layout-nrow=1  layout-valign="bottom"}
![Schritt 1: Klick auf QField Cloud Projects Overview im QField Plugin Panel](images/create_local_qfieldcloud_project1.png)

![Schritt 2: Klick auf "Create New Project" um ein neues QField Projekt zu erstellen](images/create_local_qfieldcloud_project2.png)

![Schritt 3: "Convert currently open project..." auswählen und mit "Next" bestätigen](images/create_local_qfieldcloud_project3.png)
:::

:::{.callout-warning}

## Todo

- Layerspezifische Einstellungen
- Basemaps

:::


Danach wird das Projekt automatisch in/mit der Cloud synchronisiert

## QField mobile ↔ QField Cloud

### Öffnen des Projektes

::: {layout-nrow=1}
![](images/open_project_mobile1.PNG)

![](images/open_project_mobile2.PNG)
:::

### Synchronisierung mit Cloud

::: {layout-nrow=1}
![](images/synchronize_mobile1.PNG)

![](images/synchronize_mobile2.PNG)
:::

Entweder nur die gemachten Features mit Cloud updaten (push changes) oder ganzes Projekt synchronisieren

## QField Projekt ↔ QField Cloud


::: {layout-nrow=2}
![](images/synchronize_cloud1.png)

![](images/synchronize_cloud2.png)
:::

Actions werden meist richtig erkannt
Aber hier ist vorsicht geboten, was aktualisiert werden muss